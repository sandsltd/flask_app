<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Attendees</title>
</head>
<body>

    <h1>Attendees for Event: {{ event.name }}</h1>
    <h2>Date: {{ event.date }}</h2>
    <h3>Location: {{ event.location }}</h3>

    <hr>

    {% if attendees %}
        <h2>Attendees List</h2>
        <ul>
            {% for attendee in attendees %}
                <li>
                    <h3>{{ attendee.full_name }}</h3>
                    <p>Email: {{ attendee.email }}</p>
                    <p>Phone: {{ attendee.phone_number }}</p>
                    <p>Tickets Purchased: {{ attendee.tickets_purchased }}</p>
                    
                    <!-- Display ticket answers -->
                    <h4>Ticket Answers:</h4>
                    <ul>
                        {% for question, answer in attendee.ticket_answers.items() %}
                            <li><strong>{{ question }}:</strong> {{ answer }}</li>
                        {% endfor %}
                    </ul>
                    
                    <!-- Display billing details if available -->
                    {% if attendee.billing_details %}
                        <h4>Billing Details:</h4>
                        <p>Full Name: {{ attendee.billing_details.name }}</p>
                        <p>Address: {{ attendee.billing_details.address.line1 }}, {{ attendee.billing_details.address.city }}, {{ attendee.billing_details.address.postal_code }}</p>
                        <p>Email: {{ attendee.billing_details.email }}</p>
                    {% endif %}
                    
                    <hr>
                </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No attendees for this event yet.</p>
    {% endif %}

</body>
</html>
